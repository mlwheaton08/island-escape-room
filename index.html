<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Island Escape Room</title>
    <link rel="stylesheet" type="text/css" href="main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bona+Nova+SC:ital,wght@0,400;0,700;1,400&family=Rye&family=Titillium+Web:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700&family=Work+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
</head>
<body>
    <!-- HEADER -->
    <header class="navbar">
        <div id="title">
            <img onclick="scrollToSection('main')" src="./assets/logo.png" alt="Beach and palm tree logo for the Island Escape Room" loading="lazy" />
            <h1><i>Island Escape Room</i></h1>
        </div>

        <!-- Desktop Nav -->
        <nav id="nav-desktop">
            <ul>
                <li>
                    <a onclick="scrollToSection('rooms')">ROOMS</a>
                </li>
                <li>
                    <a onclick="scrollToSection('about')">ABOUT</a>
                </li>
                <li>
                    <a onclick="scrollToSection('contact')">CONTACT</a>
                </li>
                <li>
                    <a class="btn book-now nav" href="https://islandescaperoom.resova.us/items/availability?firstPage=true" target="_blank" aria-label="Go to Resova booking website to book a time slot for the escape room">
                        <span>BOOK NOW</span>
                        <svg class="book-now-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" aria-label="Arrow icon">
                            <path d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l82.7 0L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3l0 82.7c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160c0-17.7-14.3-32-32-32L320 0zM80 32C35.8 32 0 67.8 0 112L0 432c0 44.2 35.8 80 80 80l320 0c44.2 0 80-35.8 80-80l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 112c0 8.8-7.2 16-16 16L80 448c-8.8 0-16-7.2-16-16l0-320c0-8.8 7.2-16 16-16l112 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 32z"/>
                        </svg>
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Mobile Nav -->
        <div id="nav-mobile">
            <svg id="mobile-nav-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" role="button" aria-expanded="false" aria-label="Three lines icon. Click for mobile dropdown menu">
                <path d="M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"/>
            </svg>
            <nav id="mobile-nav-dropdown">
                <ul>
                    <li>
                        <a onclick="scrollToSection('rooms')">ROOMS</a>
                    </li>
                    <li>
                        <a onclick="scrollToSection('about')">ABOUT</a>
                    </li>
                    <li>
                        <a onclick="scrollToSection('contact')">CONTACT</a>
                    </li>
                    <li>
                        <a class="btn book-now nav" href="https://islandescaperoom.resova.us/items/availability?firstPage=true" target="_blank" aria-label="Go to Resova booking website to book a time slot for the escape room">
                            <span>BOOK NOW</span>
                            <svg class="book-now-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" aria-label="Arrow icon">
                                <path d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l82.7 0L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3l0 82.7c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160c0-17.7-14.3-32-32-32L320 0zM80 32C35.8 32 0 67.8 0 112L0 432c0 44.2 35.8 80 80 80l320 0c44.2 0 80-35.8 80-80l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 112c0 8.8-7.2 16-16 16L80 448c-8.8 0-16-7.2-16-16l0-320c0-8.8 7.2-16 16-16l112 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 32z"/>
                            </svg>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
        
    </header>

    <!-- MAIN -->
    <main id="main">
        <section id="hero">
            <div class="hero-group text">
                <h1>Adventure Awaits</h1>
                <p>Can you escape before the time runs out?</p>
                <a class="btn book-now" href="https://islandescaperoom.resova.us/items/availability?firstPage=true" target="_blank" aria-label="Go to Resova booking website to book a time slot for the escape room">
                    <span>BOOK NOW</span>
                    <svg class="book-now-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" aria-label="Arrow icon">
                        <path d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l82.7 0L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3l0 82.7c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160c0-17.7-14.3-32-32-32L320 0zM80 32C35.8 32 0 67.8 0 112L0 432c0 44.2 35.8 80 80 80l320 0c44.2 0 80-35.8 80-80l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 112c0 8.8-7.2 16-16 16L80 448c-8.8 0-16-7.2-16-16l0-320c0-8.8 7.2-16 16-16l112 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 32z"/>
                    </svg>
                </a>
            </div>
            <div class="hero-group img">
                <img src="./assets/escape-kit-splash.jpg" alt="Background image of a lantern, magnifying glass, notebook, and puzzle pieces" loading="lazy" />
                <div class="overlay"></div>
            </div>
        </section>

        <section id="rooms">
            <h2>ROOMS</h2>
            <div class="rooms-container">
                <div class="room">
                    <div class="card">
                        <img src="./assets/padlock.JPG" alt="Background image of a padlock hooked on chains and a wooden door" loading="lazy" />
                        <div class="img-overlay">
                            <h3>Cabin Mysteries</h3>
                            <span>2 - 8 people | 60 min.</span>
                        </div>
                    </div>
                    <p>Step into a tranquil yet mysterious forest. Break into the cabin and uncover its dark secrets to escape before the time runs out!<span>-- This room is indoors --</span></p>
                    <a class="btn book-now cabin" href="https://islandescaperoom.resova.us/items/availability?firstPage=true" target="_blank" aria-label="Go to Resova booking website to book a time slot for the escape room">
                        <span>BOOK NOW</span>
                        <svg class="book-now-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" aria-label="Arrow icon">
                            <path d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l82.7 0L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3l0 82.7c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160c0-17.7-14.3-32-32-32L320 0zM80 32C35.8 32 0 67.8 0 112L0 432c0 44.2 35.8 80 80 80l320 0c44.2 0 80-35.8 80-80l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 112c0 8.8-7.2 16-16 16L80 448c-8.8 0-16-7.2-16-16l0-320c0-8.8 7.2-16 16-16l112 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 32z"/>
                        </svg>
                    </a>
                </div>
                <div class="room museum">
                    <div class="card">
                        <img src="./assets/paintings.jpg" alt="Background image of a collage of paintings on a wall" loading="lazy" />
                        <div class="img-overlay">
                            <h3>Museum Heist</h3>
                        </div>
                    </div>
                    <p>COMING SOON!</p>
                </div>
            </div>
        </section>
        <section id="about">
            <h2>HOW IT STARTED</h2>
            <div class="story-container">
                <div class="story-img-container">
                    <img src="./assets/forrest-2.PNG" alt="The owner, Forrest Palis, constructing the escape room" loading="lazy" />
                    <img src="./assets/forrest-1.PNG" alt="The owner, Forrest Palis, holding a powerdrill and smiling" loading="lazy" />
                    <img src="./assets/construction-1.JPG" alt="The escape room in the middle of its construction" loading="lazy" />
                    <div class="story-img-cover"></div>
                </div>
                <p style="text-align: center; margin-bottom: 80px; padding: 20px 40px;">It all began with a humble test room built on the fly for a family party. Forrest Palis used his ingenuity to entertain guests that night- and it certainly paid off. The overwhelmingly positive feedback gave him the confidence to go for broke. Forrest set the plan into motion and rented a space at The Island. He worked tirelessly outside of his day job, learning carpentry, studying puzzles, and crafting a once-in-a-lifetime escape room experience. After running test groups and making adjustments, he would officially open <b>Cabin Mysteries</b>, the <strong>only</strong> escape room in Carbondale, in November 2024. With the business up and running, Forrest has begun planning his next escape room, <b>Museum Heist</b>.</p>
            </div>
            <h2>WHY CHOOSE US?</h2>
            <div class="info-blocks-container why-us">
                <div>
                    <h3>Team Building</h3>
                    <p>Escape rooms are proven to be a fun and engaging way for groups to collaborate, problem-solve, and work together toward a common goal!</p>
                </div>
                <div>
                    <h3>Family Fun</h3>
                    <p>Treat the family to a night out! It's perfect for kids and adults alike, and most importantly: FREE for kids under 10!</p>
                </div>
                <div>
                    <h3>1 hour of Memorable Experiences</h3>
                    <p>Create unforgettable moments through a one-of-a-kind adventure!</p>
                </div>
                <div>
                    <h3>Support local business :&#41;</h3>
                    <p>Help keep Carbondale a city of the people by supporting small business! It makes a big difference in the community!</p>
                </div>
            </div>
        </section>
    </main>

    <!-- FOOTER -->
    <footer id="contact">
        <h2>YOU CAN FIND US HERE</h2>
        <div id="map"></div>
        <section class="info-blocks-container contact">
            <div>
                <h3>Address</h3>
                <p>
                    715 S University Ave
                    <br>Carbondale, IL 62901
                    
                    <br><br><i>*on the 2nd story</i>
                </p>
            </div>
            <div>
                <h3>Parking</h3>
                <p>Parking is on a first come first serve basis, but <b>SIU</b> has free parking after <b>4pm</b>. The Lutheran Church across the street also has a parking lot.</p>
            </div>
            <div>
                <h3>Contact</h3>
                <p>
                    <span class="phone-number">(618) 999-1126</span>
                    <br><span id="email-island"></span>
                </p>
            </div>
            <div>
                <h3>Socials</h3>
                <div id="socials-icons-container">
                    <a style="width: 37px; height: 37px; padding: 3px;" href="https://www.facebook.com/people/Island-Escape-Room/61557573101458/" target="_blank" alt="Go to the Facebook page for The Island Escape Room">
                        <svg class="socials-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" aria-label="Facebook icon">
                            <path d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"/>
                        </svg>
                    </a>
                    <a style="width: 37px; height: 37px; padding: 3px;" href="https://www.instagram.com/islandescaperoom/" target="_blank" alt="Go to the Instagram page for The Island Escape Room">
                        <svg class="socials-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" aria-label="Instagram icon">
                            <path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/>
                        </svg>
                    </a>
                </div>
            </div>
        </section>

        <div id="call-to-action">Interested in a website like this? Reach out to <span id="email-dev"></span> and letâ€™s chat!</div>
    </footer>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script>
        // obfuscating email addresses to mitigate potential bots from scraping and sending spam
        const email_dev = 'mlwheaton06' + '@' + 'gmail' + '.' + 'com'
        const email_island = 'islandescaperoom' + '@' + 'gmail' + '.' + 'com'
        document.getElementById('email-dev').innerHTML = email_dev
        document.getElementById('email-island').innerHTML = email_island

        // Initialize the map
        var map = L.map('map').setView([37.72011838051414, -89.21757094312746], 16) // Center on your coordinates

        // Set up the OSM tile layer
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            minZoom: 14,
            maxZoom: 18,
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map)

        // Add a marker with a popup
        var marker = L.marker([37.72011838051414, -89.21757094312746]).addTo(map)
        marker.bindPopup("<a href='https://www.google.com/maps/place/Island+Escape+Room/@37.7200281,-89.2174235,20.36z/data=!4m6!3m5!1s0x887713458faba569:0xae57791bc3a4154f!8m2!3d37.7201223!4d-89.2174293!16s%2Fg%2F11y7s89xzp?authuser=0&entry=ttu&g_ep=EgoyMDI1MDIxOC4wIKXMDSoASAFQAw%3D%3D' target='_blank'>Island Escape Room</a>").openPopup()

        // Get references to the button and dropdown menu
        const dropdownToggle = document.getElementById('mobile-nav-icon')
        const dropdownMenu = document.getElementById('mobile-nav-dropdown')

        // Add an event listener to toggle the dropdown menu on click
        dropdownToggle.addEventListener('click', function() {
            // Toggle the display property of the dropdown menu
            dropdownToggle.classList.toggle('active')
            dropdownMenu.classList.toggle('show')

            // Toggle aria-expanded based on the visibility of the dropdown menu
            const isExpanded = dropdownMenu.classList.contains('show')
            dropdownToggle.setAttribute('aria-expanded', isExpanded ? 'true' : 'false')
        })

        // Optional: Close the dropdown if clicked outside
        document.addEventListener('click', function(event) {
            if (!dropdownToggle.contains(event.target)) {
                dropdownToggle.classList.remove('active')
                dropdownMenu.classList.remove('show')
                dropdownToggle.setAttribute('aria-expanded', 'false')
            }
        })

        const scrollToSection = (elementId) => {
            const navbarHeight = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--nav-height'), 10)
            const targetSection = document.getElementById(elementId)
            window.scrollTo({
                top: targetSection.offsetTop - navbarHeight,
                behavior: 'smooth'
            })
        }

        const navbar = document.querySelector('.navbar')
        const hero = document.getElementById('hero')

        // Get the height of the hero section
        const navbarHeight = navbar.offsetHeight
        const heroHeight = hero.offsetHeight

        function debounce(fn, delay) {
            let timer
            return function () {
                const context = this
                const args = arguments
                clearTimeout(timer)
                timer = setTimeout(() => fn.apply(context, args), delay)
            }
        }

        // Example: Debouncing scroll event
        window.addEventListener('scroll', debounce(function () {
            if (window.scrollY >= (heroHeight - 1)) {
                navbar.classList.add('scrolled')
            } else {
                navbar.classList.remove('scrolled')
            }
            console.log('Scroll event handled')
        }, 200))
    </script>
</body>
</html>